{% extends 'base.html' %}
{% block title %} Datasets {% endblock title %}
{% block body %}

  <div class="container">
    {% for message in get_flashed_messages() %}
      <div class="alert alert-primary">
          <!--button type="button" class="close" data-dismiss="alert">&times;</button-->
          <button type="button" class="btn-close" aria-label="Close"></button>
          {{ message }}
      </div>
    {% endfor %}
  </div>

  <div class="container my-5" >
    <form action="/dataset" method="POST">
      <div class="container my-3" method="GET" action="/dataset" ></div>
        <h3>Select Dataset </h3>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="select-all-checkbox">
          <label class="form-check-label" for="select-all-checkbox">Select All</label>
        </div>
        {%for datasettitle in datasetList[0:]%}
          <div class="form-check">
              <input class="form-check-input" name="sourceDatasetCheckBox"type="checkbox" value="{{datasettitle}}" id="flexCheckDefault">
              <label class="form-check-label" for="flexCheckDefault">
              {{datasettitle}}
              </label>
          </div>
        {%endfor%}
      </div>
      <div class="container my-3" >
        <button type="submit" class="btn btn-dark">Submit</button>
      </div>
    </form>
  </div>

  <script>
    // Select all checkboxes
    const selectAllCheckbox = document.getElementById('select-all-checkbox');
    const otherCheckboxes = document.querySelectorAll('input[name="sourceDatasetCheckBox"]');
    selectAllCheckbox.addEventListener('change', () => {
      for (const checkbox of otherCheckboxes) {
        checkbox.checked = selectAllCheckbox.checked;
      }
    });
  </script>
    
   
{% endblock body %}
